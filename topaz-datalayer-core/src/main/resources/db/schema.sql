CREATE SEQUENCE hibernate_sequence START WITH 1 INCREMENT BY 1;

CREATE TABLE PUBLIC.user (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
    login VARCHAR(80) NOT NULL,
    email VARCHAR(80) NOT NULL,
    birthday TIMESTAMP NULL,
    PRIMARY KEY (id),
    CONSTRAINT u0_user_login UNIQUE (login)
);

CREATE TABLE PUBLIC.role (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
    name VARCHAR(80) NOT NULL,
    PRIMARY KEY (id),
    CONSTRAINT r0_role_name UNIQUE (name)
);

CREATE TABLE PUBLIC.user_role (
    id_user BIGINT NOT NULL,
    id_role BIGINT NOT NULL,
    PRIMARY KEY (id_user, id_role),
    CONSTRAINT fk0_user FOREIGN KEY (id_user) REFERENCES user (id),
    CONSTRAINT fk0_role FOREIGN KEY (id_role) REFERENCES role (id)
);
